<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><title>The Commons Math User Guide - Complex Numbers - Math</title><style type="text/css" media="all">
          @import url("../style/maven-base.css");
          
          @import url("../style/maven-theme.css");@import url("../style/project.css");</style><link rel="stylesheet" href="../style/print.css" type="text/css" media="print"></link><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta></head><body class="composite"><div id="banner"><a href="http://commons.apache.org/" id="organizationLogo"><img alt="The Apache Software Foundation" src="http://commons.apache.org/images/logo.png"></img></a><a href="http://commons.apache.org/math/" id="projectLogo"><img alt="Math" src="../images/math.gif"></img></a><div class="clear"><hr></hr></div></div><div id="breadcrumbs"><div class="xleft">Last published: 18 August 2007
                <span class="separator">|</span> Doc for  1.2-SNAPSHOT
                </div><div class="xright">
        
        <a href="http://commons.apache.org/" class="externalLink" title="External Link">Apache Commons</a>
      </div><div class="clear"><hr></hr></div></div><div id="leftColumn"><div id="navcolumn"><div id="menuMath"><h5>Math</h5><ul><li class="none"><a href="../index.html">Overview</a></li><li class="none"><a href="../proposal.html">Proposal</a></li><li class="none"><a href="../developers.html">Developers Guide</a></li><li class="none"><a href="http://commons.apache.org/math/api-1.0/index.html" class="externalLink" title="External Link">Javadoc (1.0 release)</a></li><li class="none"><a href="http://commons.apache.org/math/api-1.1/index.html" class="externalLink" title="External Link">Javadoc (1.1 release)</a></li><li class="none"><a href="../apidocs/index.html">Javadoc (1.2-SNAPSHOT)</a></li><li class="none"><a href="http://svn.apache.org/viewvc/commons/proper/math/trunk" class="externalLink" title="External Link">Source Repository (current)</a></li><li class="none"><a href="http://wiki.apache.org/commons/Math" class="externalLink" title="External Link">Wiki</a></li></ul></div><div id="menuUser_Guide"><h5>User Guide</h5><ul><li class="none"><a href="../userguide/index.html">Contents</a></li><li class="none"><a href="../userguide/overview.html">Overview</a></li><li class="none"><a href="../userguide/stat.html">Statistics</a></li><li class="none"><a href="../userguide/random.html">Data Generation</a></li><li class="none"><a href="../userguide/linear.html">Linear Algebra</a></li><li class="none"><a href="../userguide/analysis.html">Numerical Analysis</a></li><li class="none"><a href="../userguide/special.html">Special Functions</a></li><li class="none"><a href="../userguide/utilities.html">Utilities</a></li><li class="none"><strong><a href="../userguide/complex.html">Complex Numbers</a></strong></li><li class="none"><a href="../userguide/distribution.html">Distributions</a></li><li class="none"><a href="../userguide/fraction.html">Fractions</a></li><li class="none"><a href="../userguide/transform.html">Transform Methods</a></li><li class="none"><a href="../userguide/geometry.html">3D Geometry</a></li><li class="none"><a href="../userguide/estimation.html">Parametric Estimation</a></li><li class="none"><a href="../userguide/optimization.html">Optimization</a></li><li class="none"><a href="../userguide/ode.html">Ordinary Differential Equations</a></li></ul></div><div id="menuProject_Documentation"><h5>Project Documentation</h5><ul><li class="none"><a href="../index.html">About</a></li><li class="collapsed"><a href="../project-info.html">Project Info</a></li><li class="collapsed"><a href="../maven-reports.html">Project Reports</a></li><li class="none"><a href="http://commons.apache.org/charter.html" class="externalLink" title="External Link">Development Process</a></li></ul></div><div id="menuCommons"><h5>Commons</h5><ul><li class="none"><a href="http://jakarta.apache.org/commons/" class="externalLink" title="External Link">Home</a></li><li class="collapsed"><a href="http://jakarta.apache.org/commons/components.html" class="externalLink" title="External Link">Components</a></li><li class="collapsed"><a href="http://jakarta.apache.org/commons/sandbox/index.html" class="externalLink" title="External Link">Sandbox</a></li><li class="collapsed"><a href="http://jakarta.apache.org/commons/dormant/index.html" class="externalLink" title="External Link">Dormant</a></li><li class="none"><a href="http://jakarta.apache.org/commons/volunteering.html" class="externalLink" title="External Link">Volunteering</a></li><li class="none"><a href="http://jakarta.apache.org/commons/patches.html" class="externalLink" title="External Link">Contributing Patches</a></li><li class="none"><a href="http://jakarta.apache.org/commons/building.html" class="externalLink" title="External Link">Building Components</a></li><li class="none"><a href="http://jakarta.apache.org/commons/releases/index.html" class="externalLink" title="External Link">Releasing Components</a></li><li class="none"><a href="http://wiki.apache.org/jakarta-commons/FrontPage" class="externalLink" title="External Link">Wiki</a></li></ul></div><div id="legend"><h5>Legend</h5><ul><li class="externalLink">External Link</li><li class="newWindow">Opens in a new window</li></ul></div><a href="http://maven.apache.org/" title="Built by Maven" id="poweredBy"><img alt="Built by Maven" src="../images/logos/maven-feather.png"></img></a></div></div><div id="bodyColumn"><div class="contentBox"><div class="section"><a name="7_Complex_Numbers"></a><h2>7 Complex Numbers</h2>
      <div class="subsection"><a name="7_1_Overview"></a><h3>7.1 Overview</h3>
        <p>
          The complex packages provides a complex number type as well as complex
          versions of common transcendental functions and complex number
          formatting.
        </p>
      </div>
      <div class="subsection"><a name="7_2_Complex_Numbers"></a><h3>7.2 Complex Numbers</h3>
        <p>
          <a href="../apidocs/org/apache/commons/math/complex/Complex.html">
          org.apache.commons.math.complex.Complex</a> provides a complex number
          type that forms the basis for the complex functionality found in 
          commons-math.
         </p>  
         <p>
           Complex functions and arithmetic operations are implemented in
           commons-math by applying standard computational formulas and
           following the rules for <code>java.lang.Double</code> arithmetic in 
           handling infinite and <code>NaN</code> values.  No attempt is made
           to comply with ANSII/IEC C99x Annex G or any other standard for
           Complex arithmetic.  See the class and method javadocs for the 
           <a href="../apidocs/org/apache/commons/math/complex/Complex.html">
           Complex</a> and
           <a href="../apidocs/org/apache/commons/math/complex/ComplexUtils.html">
           ComplexUtils</a> classes for details on computing formulas.
        </p>
        <p>
          To create a complex number, simply call the constructor passing in two
          floating-point arguments, the first being the real part of the
          complex number and the second being the imaginary part:
          
    <div class="source"><pre>Complex c = new Complex(1.0, 3.0); // 1 + 3i</pre></div>
  
        </p>
        <p>
          Complex numbers may also be created from polar representations
          using the <code>polar2Complex</code> method in 
          <code>ComplexUtils</code>.
        </p>
        <p>
          The <code>Complex</code> class provides basic unary and binary
          complex number operations.  These operations provide the means to add,
          subtract, multiply and divide complex numbers along with other
          complex number functions similar to the real number functions found in
          <code>java.math.BigDecimal</code>:
          
    <div class="source"><pre>Complex lhs = new Complex(1.0, 3.0);
Complex rhs = new Complex(2.0, 5.0);

Complex answer = lhs.add(rhs);       // add two complex numbers
        answer = lhs.subtract(rhs);  // subtract two complex numbers
        answer = lhs.abs();          // absolute value
        answer = lhs.conjugate(rhs); // complex conjugate</pre></div>
  
        </p>
      </div>
      <div class="subsection"><a name="7_3_Complex_Transcendental_Functions"></a><h3>7.3 Complex Transcendental Functions</h3>
        <p>
          <a href="../apidocs/org/apache/commons/math/complex/ComplexUtils.html">
          org.apache.commons.math.complex.ComplexUtils</a> provides
          implementations of serveral transcendental functions involving complex
          number arguments.  These operations provide the means to compute the
          log, sine, tangent and, other complex values similar to the real
          number functions found in <code>java.lang.Math</code>:
          
    <div class="source"><pre>Complex first = new Complex(1.0, 3.0);
Complex second = new Complex(2.0, 5.0);

Complex answer = ComplexMath.log(first);          // natural logarithm.
        answer = ComplexMath.cos(first);          // cosine
        answer = ComplexMath.pow(first, second);  // first raised to the power of second</pre></div>
  
        </p>
      </div>
      <div class="subsection"><a name="7_4_Complex_Formatting_and_Parsing"></a><h3>7.4 Complex Formatting and Parsing</h3>
        <p>
          <code>Complex</code> instances can be converted to and from strings
          using the<a href="../apidocs/org/apache/commons/math/complex/ComplexFormat.html">
          org.apache.commons.math.complex.ComplexFormat</a> class.
          <code>ComplexFormat</code> is a <code>java.text.Format</code>
          extension and, as such, is used like other formatting objects (e.g.
          <code>java.text.SimpleDateFormat</code>):
          
    <div class="source"><pre>ComplexFormat format = new ComplexFormat(); // default format
Complex c = new Complex(1.1111, 2.2222);
String s = format.format(c); // s contains "1.11 + 2.22i"</pre></div>
  
        </p>
        <p>
          To customize the formatting output, one or two
          <code>java.text.NumberFormat</code> instances can be used to construct
          a <code>ComplexFormat</code>.  These number formats control the
          formatting of the real and imaginary values of the complex number:
          
    <div class="source"><pre>NumberFormat nf = NumberFormat.getInstance();
nf.setMinimumFractionDigits(3);
nf.setMaximumFractionDigits(3);

// create complex format with custom number format
// when one number format is used, both real and
// imaginary parts are formatted the same
ComplexFormat cf = new ComplexFormat(nf);
Complex c = new Complex(1.11, 2.2222);
String s = format.format(c); // s contains "1.110 + 2.222i"

NumberFormat nf2 = NumberFormat.getInstance();
nf.setMinimumFractionDigits(1);
nf.setMaximumFractionDigits(1);

// create complex format with custom number formats
cf = new ComplexFormat(nf, nf2);
s = format.format(c); // s contains "1.110 + 2.2i"</pre></div>
  
        </p>
        <p>
          Another formatting customization provided by
          <code>ComplexFormat</code> is the text used for the imaginary
          designation.  By default, the imaginary notation is "i" but, it can be
          manipulated using the <code>setImaginaryCharacter</code> method.
        </p>
        <p>
          Formatting inverse operation, parsing, can also be performed by
          <code>ComplexFormat</code>.  Parse a complex number from a string,
          simply call the <code>parse</code> method:
          
    <div class="source"><pre>ComplexFormat cf = new ComplexFormat();
Complex c = cf.parse("1.110 + 2.222i");</pre></div>
  
        </p>
      </div>
    </div></div></div><div class="clear"><hr></hr></div><div id="footer"><div class="xright">© 2003-2007, The Apache Software Foundation</div><div class="clear"><hr></hr></div></div></body></html>